(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cfafdde"],{"021c":function(t,e,i){},"04b7":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("van-popup",{staticClass:"prop-box",attrs:{closeable:"","get-container":"body"},on:{closed:t.close},model:{value:t.shareProp,callback:function(e){t.shareProp=e},expression:"shareProp"}},[e("div",{staticClass:"share-content",attrs:{id:"copyDom"}},[e("div",{staticClass:"title"},[e("img",{staticClass:"logo",attrs:{src:i("3868"),alt:""}})]),t.shareProp?e("div",{staticClass:"detail"},[e("div",{staticClass:"settle"},[e("b",[t._v(" "+t._s("trade"==t.positionItem["dataType"]?t.singleMarket["price_type"]:""+t.pool.marketLists[0].price_type)+" ")]),e("div",[e("SettlementBtn",{attrs:{settlement:"trade"==t.positionItem["dataType"]?""+t.singleMarket["marginAsset"]["symbol"]:t.pool.baseToken.symbol}}),e("LeverageBtn",{directives:[{name:"show",rawName:"v-show",value:t.showLever,expression:"showLever"}],attrs:{leverage:"trade"==t.positionItem["dataType"]?t.positionItem["takerLeverage"]:t.positionItem["leverage"]}})],1),"trade"==t.positionItem["dataType"]?e("span",{style:{color:1==t.positionItem["direction"]?"#2EBB84":"#F5455B"}},[t._v(t._s(t.$t("trade.directionDictionary")[t.positionItem["direction"]])+"  ")]):t._e()]),"trade"==t.positionItem["dataType"]?e("div",[e("h2",{staticClass:"pnl",style:{color:parseFloat(t.positionItem["pnlRate"])>=0?"#2EBB84":"#F5455B",visibility:t.showPnl?"":"hidden"}},[e("span",[t._v(t._s(t.positionItem.pnl>0?"+":""))]),e("span",[t._v(t._s(t.toPercent(t.positionItem["pnlRate"])))])])]):e("div",[e("h2",{staticClass:"pnl",style:{color:parseFloat(t.positionItem["pnl"].pnlRate)>=0?"#2EBB84":"#F5455B",visibility:t.showPnl?"":"hidden"}},[e("span",[t._v(t._s(t.positionItem["pnl"].pnl>0?"+":""))]),e("span",[t._v(t._s(t.toPercent(t.positionItem["pnl"].pnlRate)))])])]),e("div",{staticClass:"price"},[e("span",[t._v(t._s(t.$t("trade.openPrice")))]),e("i",[t._v(t._s("trade"==t.positionItem["dataType"]?t.formatNumberWithCommas(t.positionItem["tradePrice"],t.singleMarket.price_show_decimals):t.formatNumberWithCommas(t.positionItem.entryPrice,t.singleMarket.price_show_decimals)))])]),e("div",{staticClass:"code"},[e("div",{attrs:{id:"qrcode"}},[e("div",{ref:"qrcodeDom"})])])]):t._e()]),e("div",{staticClass:"control"},[e("p",[t._v(t._s(t.$t("trade.shareTip")))]),e("div",{staticClass:"check-box"},[e("div",[e("van-checkbox",{attrs:{"checked-color":"#F7A600","icon-size":"16px",shape:"square"},model:{value:t.showLever,callback:function(e){t.showLever=e},expression:"showLever"}},[e("span",{staticClass:"text"},[t._v(t._s(t.$t("trade.leverage")))])])],1),e("div",[e("van-checkbox",{attrs:{"checked-color":"#F7A600","icon-size":"16px",shape:"square"},model:{value:t.showPnl,callback:function(e){t.showPnl=e},expression:"showPnl"}},[e("span",{staticClass:"text"},[t._v(t._s(t.$t("trade.ROE")))])])],1),e("div",{staticClass:"share-link",on:{click:function(e){return t.handleLink("twitter")}}},[e("i"),e("span",[t._v("Twitter")])]),e("div",{staticClass:"share-link",on:{click:function(e){return t.handleLink("telegram")}}},[e("i"),e("span",[t._v("Telegram")])])]),e("div",{staticClass:"btns"},[e("van-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.shareUrl,expression:"shareUrl",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}]},[t._v(t._s(t.$t("common.copyLink")))]),e("van-button",{on:{click:function(e){return t.handleDownload()}}},[t._v(t._s(t.$t("common.download")))])],1)])])],1)},s=[],o=(i("2c66"),i("249d"),i("40e9"),i("907a"),i("986a"),i("1d02"),i("3c5d"),i("6ce5"),i("2834"),i("4ea1"),i("b7ef"),i("88a7"),i("271a"),i("5494"),i("c0e9")),l=i.n(o),n=i("d044"),r=i.n(n),c=i("2ca0"),d=i("d6ad"),p=i("2f62"),m=i("2f14"),u={props:{positionItem:{type:Object,default:()=>{}}},components:{LeverageBtn:c["a"],SettlementBtn:d["a"]},data(){return{shareProp:!1,shareData:{type:1,pnl:12},showLever:!0,imgLive:!1,showPnl:!0,innerWidth:"",inviteCode:"",shareUrl:"https://www.yfx.com"}},computed:{...Object(p["c"])({singleMarket:t=>t.singleMarket,pool:t=>t.pool})},created(){this.innerWidth=window.innerWidth},methods:{fromDecimal:m["l"],toPercent:m["z"],formatNumberWithCommas:m["i"],openProp(t,e){this.shareProp=e,console.log("data :>> ",t),this.show()},async handleDownload(){const t=await this.getShareImgBase64();let e=t.split(","),i=e[0].match(/:(.*?);/)[1],a=atob(e[1]),s=a.length,o=new Uint8Array(s);while(s--)o[s]=a.charCodeAt(s);const l=new File([o],"yfx-share",{type:i});var n=document.createElement("a");n.download=l.name;const r=URL.createObjectURL(l);n.href=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},async getShareImgBase64(){return new Promise(t=>{setTimeout(()=>{l()(document.querySelector("#copyDom"),{useCORS:!0,scale:window.devicePixelRatio<3?window.devicePixelRatio:2,allowTaint:!0}).then(e=>{const i=e.toDataURL("image/png",1);t(i)})},500)})},MakeQrcode(){const t=new r.a(this.$refs.qrcodeDom,{text:this.shareUrl,width:80,height:80,colorDark:"#000000",colorLight:"#ffffff"});t.makeCode(this.shareUrl)},show(){this.$nextTick(()=>{this.MakeQrcode()})},handleLink(t){let e,i="https://www.yfx.com";switch(t){case"twitter":e="https://twitter.com/intent/tweet?text="+encodeURIComponent(Object(m["t"])()),window.open(`${e}${i}`);break;case"telegram":e="https://t.me/YFX_COM",window.open(""+e);break}},onCopy(){this.$notify({message:"Success",position:"bottom-right"})},close(){this.$refs.qrcodeDom.innerHTML=""}}},h=u,v=(i("dfd6"),i("2877")),_=Object(v["a"])(h,a,s,!1,null,"589a7bc6",null);e["a"]=_.exports},"04bf":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",{staticClass:"loading"},[e("TradeLoading",{attrs:{w:30,h:30}})],1):t._e(),e("div",{staticClass:"title-type",style:{marginBottom:"funding"!==t.type?"20px":0}},[e("ul",t._l(t.typeList,(function(i,a){return e("li",{key:a,class:{cur:i==t.typeValue},on:{click:function(e){return t.changeTypeValue(i)}}},[t._v("1"+t._s(t.typeValueDictionary[i]))])})),0),"funding"==t.type?e("div",[e("span",{staticStyle:{color:"#ADB1B8"}},[t._v(t._s(t.$t("common.current"))+" "+t._s(t.sizeValue)+"h "+t._s(t.$t("common.rate")))]),e("span",{staticStyle:{color:"#F7A600"}},[t._v(" "+t._s(parseFloat(t.fundingRate)>=0?"+":"")+t._s(t.toPercent(t.fundingRate,6)))])]):t._e(),"funding"==t.type?e("ul",t._l(t.sizeList,(function(i,a){return e("li",{key:a,class:{cur:i==t.sizeValue},on:{click:function(e){return t.changeSizeValue(i)}}},[t._v(t._s(i)+"h "+t._s(t.$t("common.rate")))])})),0):t._e()]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],ref:"chart",staticClass:"funding-chart"})])},s=[],o=i("ea7f"),l=i.n(o),n=i("33c6"),r=i.n(n),c=i("d817"),d=i.n(c),p=i("0319"),m=i.n(p),u=i("fd03"),h=i("2f62"),v=i("872e"),_=i("2f14"),b=i("901e"),y=i.n(b);r()(l.a),d()(l.a),m()(l.a);var f={props:["type"],components:{TradeLoading:v["a"]},data(){return{chartOptions:{},typeList:["m","h","d"],typeValue:"d",sizeList:["1","8"],sizeValue:"1",data:[],typeValueDictionary:{m:"m",h:"H",d:"D"},minY:null,tickInterval:null,isLoading:!0}},computed:{...Object(h["c"])({singleMarket:t=>t.singleMarket,marketInfo:t=>t.marketInfo,pool:t=>t.pool}),fundingRate(){return y()(this.marketInfo.fundingRate).multipliedBy(this.sizeValue).toFixed()}},watch:{"singleMarket.id"(){"funding"==this.type&&this.getFundingRate()},"pool.id"(){"netValue"==this.type&&this.getFundingRate()}},mounted(){this.getFundingRate()},methods:{toPercent:_["z"],changeTypeValue(t){this.isLoading=!0,this.typeValue=t,this.getFundingRate()},changeSizeValue(t){this.isLoading=!0,this.sizeValue=t,this.getFundingRate()},drawChart(){let t=this;this.chartOptions={chart:{type:"line",backgroundColor:"#101014"},title:{text:""},tooltip:{crosshairs:{color:"#3C3F46",dashStyle:"solid"},formatter:function(){const e=this.point,i=e.x,a=e.y;let s;return"funding"==t.type?s=`\n                <div style="display: flex; justify-content: space-between; width: 120px; margin-bottom: 8px"><span>${Object(_["d"])(i,!1)}</span></div>\n                <div style="display: flex; justify-content: space-between; width: 120px; color: #F7A600"><span>${Object(_["z"])(a,5)}</span></div>\n              `:"netValue"==t.type&&(s=`\n                <div style="display: flex; justify-content: space-between; width: 160px; margin-bottom: 8px"><span>${Object(_["d"])(i,!1)}</span></div>\n                <div style="display: flex; justify-content: space-between; width: 160px; color: #F7A600"><span>${t.$t("liquidity.ylpPrice")}:</span> <span>${a.toFixed(6)}</span></div>\n              `),s},valueDecimals:2,backgroundColor:"#404347",borderColor:"black",borderRadius:10,borderWidth:0,animation:!0,useHTML:!0,style:{color:"#ADB1B8",fontSize:"14px"}},exporting:{enabled:!1},xAxis:{type:"datetime",title:{text:""},lineColor:"#2C2F36",tickColor:"#2C2F36",tickInterval:"auto",labels:{formatter:function(){return"d"==t.typeValue||"h"==t.typeValue?Object(_["d"])(this.value,!1):"m"==t.typeValue?Object(_["d"])(this.value,!1,!1,!1):void 0}}},yAxis:{title:{text:""},gridLineWidth:0,labels:{formatter:function(){return"funding"==t.type?100*this.value+"%":"netValue"==t.type?this.value:void 0}},min:this.minY},navigator:{enabled:!0},scrollbar:{enabled:!0},series:[{data:this.data,marker:{enabled:!1},lineWidth:3,color:this.isHorizontalLine()?"#F7A600":{linearGradient:{x1:0,x2:1,y1:0,y2:0},stops:[[0,"#F7A600"],[1,"#14b7cc"]]}}]},l.a.chart(this.$refs.chart,this.chartOptions)},async getFundingRate(){var t;const e=Math.floor((new Date).getTime()/1e3),i=Math.floor(((new Date).getTime()-2592e6)/1e3);let a,s;"d"==this.typeValue||"h"==this.typeValue?this.tickInterval=6e4:"m"==this.typeValue&&(this.tickInterval=600),"funding"==this.type?(a={size:this.sizeValue,market:this.singleMarket.id,type:this.typeValue,from:i,to:e},s=await Object(u["d"])(a)):"netValue"==this.type&&(a={pool:this.pool.id,type:this.typeValue,from:i,to:e},s=await Object(u["o"])(a),this.$emit("getNetValueChange",y()(s.change).toFixed(4,y.a.ROUND_DOWN)));const{time:o,data:l}=s,n=o?o.map((t,e)=>[t,parseFloat(l[e])]):[];this.data=n;const r=Math.max(...null!==(t=null===l||void 0===l?void 0:l.map(t=>Math.abs(t)))&&void 0!==t?t:[]);"funding"==this.type&&(this.minY=-r),this.isLoading=!1,this.drawChart()},isHorizontalLine(){var t;const e=null===(t=this.data[0])||void 0===t?void 0:t[1];return this.data.every(t=>t[1]===e)}}},g=f,C=(i("60c6"),i("2877")),T=Object(C["a"])(g,a,s,!1,null,"629db662",null);e["a"]=T.exports},"09fe":function(t,e,i){},1646:function(t,e,i){"use strict";i("e3a0")},"16e5":function(t,e,i){},"1b47":function(t,e,i){"use strict";i("fd24")},"29e7":function(t,e,i){},"2b81":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[e("el-button",{staticClass:"btn-max"},[t._v(t._s(t.font))])],1)},s=[],o={props:["font"]},l=o,n=(i("44ca"),i("2877")),r=Object(n["a"])(l,a,s,!1,null,"a676e126",null);e["a"]=r.exports},"2ca0":function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("span",{staticClass:"leverage"},[t._v(t._s(t.leverage)+"x")])},s=[],o={props:["leverage"]},l=o,n=(i("62a6"),i("2877")),r=Object(n["a"])(l,a,s,!1,null,"1f75ec06",null);e["a"]=r.exports},"2f10":function(t,e,i){"use strict";i("5649")},"3d1d":function(t,e,i){},"44a2":function(t,e,i){},"44ca":function(t,e,i){"use strict";i("9c8a")},"44e0":function(t,e,i){"use strict";i("534b")},4805:function(t,e,i){"use strict";i("86b6")},4925:function(t,e,i){"use strict";i("4f1c")},"4b0d":function(t,e,i){"use strict";i("09fe")},"4f1c":function(t,e,i){},"4fc0":function(t,e,i){"use strict";i("e0e2")},52942:function(t,e,i){"use strict";i("ca0b")},"534b":function(t,e,i){},"55e5":function(t,e,i){"use strict";i("d025")},5649:function(t,e,i){},"60c6":function(t,e,i){"use strict";i("3d1d")},"62a6":function(t,e,i){"use strict";i("a34b")},"650d":function(t,e,i){},"6b2b":function(t,e,i){"use strict";i("021c")},"86b6":function(t,e,i){},8935:function(t,e,i){"use strict";i("650d")},"8b53":function(t,e,i){},"9c8a":function(t,e,i){},a34b:function(t,e,i){},ab0f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"APP"}},[e("div",{staticClass:"container"},[t.poolLoading?t._e():e("Ticker",{attrs:{netValueChange:t.netValueChange}}),e("grid-layout",{staticClass:"showPc",attrs:{margin:[parseInt(t.marginX),parseInt(t.marginY)],layout:t.layout,"col-num":parseInt(t.colNum),"row-height":t.rowHeight,"is-draggable":t.draggable,"is-resizable":t.resizable,"is-mirrored":t.mirrored,"prevent-collision":t.preventCollision,"vertical-compact":!0,"use-css-transforms":!0,responsive:t.responsive},on:{"update:layout":function(e){t.layout=e}}},[t.poolLoading?e("grid-item",{staticClass:"kline-box",class:{"big-box":t.is_big},attrs:{id:"kline",static:t.layout[1].static,x:t.layout[1].x,y:t.layout[1].y,w:t.layout[1].w,h:t.layout[1].h,i:t.layout[1].i,disabled:""}},[e("div",{staticClass:"loading"},[e("TradeLoading",{attrs:{w:30,h:30}})],1)]):t._e(),t.poolLoading?t._e():e("grid-item",{staticClass:"kline-box",class:{"big-box":t.is_big},attrs:{id:"kline",static:t.layout[1].static,x:t.layout[1].x,y:t.layout[1].y,w:t.layout[1].w,h:t.layout[1].h,i:t.layout[1].i,disabled:""}},[e("TabSwitch",{staticStyle:{"margin-left":"12px"},attrs:{tabs:t.tabList,size:16,tabActive:t.tabActive},on:{tabChange:function(e){return t.tabChange(e)}}}),e("div",{staticClass:"bottom-border"}),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabActive,expression:"tabActive == 1"}],staticStyle:{height:"calc(100% - 64px)"}},[e("NetValueChart",{attrs:{type:"netValue"},on:{getNetValueChange:function(e){return t.getNetValueChange(e)}}})],1),2==t.tabActive?e("div",{staticStyle:{height:"calc(100% - 64px)"}},[e("Info")],1):t._e(),3==t.tabActive?e("div",[e("AumLiquidity")],1):t._e()],1),e("grid-item",{staticClass:"pc-position",staticStyle:{"background-color":"#101014"},attrs:{static:t.layout[2].static,x:t.layout[2].x,y:t.layout[2].y,w:t.layout[2].w,h:t.layout[2].h,i:t.layout[2].i}},[t.poolLoading?t._e():e("Positions")],1)],1),e("Positions",{staticClass:"showH5"}),e("div",{staticClass:"order-price"},[t.poolLoading?t._e():e("position-trade")],1)],1)])},s=[],o=(i("14d9"),i("2f62")),l=i("7be8"),n=i.n(l),r=i("3600"),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",[e("h5",[e("span",[t._v(" "+t._s(t.$t("common.add"))+" "+t._s(t.pool.marketLists[0].price_type)+" ")]),e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),e("span",[t._v(" "+t._s(t.$t("liquidity.liquidity"))+" ")])],1)]),e("ul",{staticClass:"enter-content"},[e("li",[e("div",{staticClass:"title"},[e("span",{staticClass:"asset-font"},[t._v(t._s(t.$t("trade.margin")))]),t.userAddress?e("div",{staticClass:"left"},[e("span",[t._v(t._s(t.$t("common.balance"))+":  ")]),e("em",[t._v(t._s(parseFloat(t.balance)>=0?t.formatNumberWithCommas(t.balance,4):"--")+" "+t._s(t.pool.baseToken.symbol))])]):t._e()]),e("div",{staticClass:"input-box input-box2"},[e("div",[e("van-field",{attrs:{placeholder:"0.0",type:"number"},on:{input:t.calcGetLP},model:{value:t.margin,callback:function(e){t.margin=e},expression:"margin"}})],1),e("div",{staticClass:"input-box2-right"},[e("div",{on:{click:t.max}},[e("Button",{staticStyle:{"margin-right":"12px"},attrs:{font:"Max"}})],1),e("span",[t._v(t._s(t.pool.baseToken.symbol))])])])]),e("li",[e("div",{staticClass:"title"},[e("span",{staticClass:"asset-font"},[t._v(t._s(t.$t("liquidity.liquidity"))+": "+t._s(t.formatNumberWithCommas(t.liquidity,4)||"--")+" "+t._s(t.pool.baseToken.symbol))])]),e("div",{staticClass:"input-box input-box2"},[e("div",[e("van-field",{attrs:{placeholder:"0.0",type:"number",disabled:""},model:{value:t.receive,callback:function(e){t.receive=e},expression:"receive"}})],1),t._m(0)])])]),e("Leverage",{attrs:{showTooltip:t.showTradeProp}}),e("ul",{staticClass:"data-detail data-detail1"},[e("li",[e("span",[t._v(t._s(t.$t("trade.entryPrice")))]),e("div",[e("p",[t._v(t._s(t.formatNumberWithCommas(t.sharePrice,6)))])])]),e("li",[e("span",[t._v(t._s(t.$t("trade.liqPrice")))]),e("p",[t._v(t._s(t.formatNumberWithCommas(t.liqPrice,6)))])]),e("li",[e("span",[t._v(t._s(t.$t("common.fee")))]),e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticClass:"tooltip-inner",attrs:{slot:"content"},slot:"content"},[e("div",[e("span",{staticClass:"left"},[t._v(t._s(t.$t("common.executionFee")))]),e("span",[t._v(t._s("-"+t.orderFee._fee)+" ETH("+t._s("-$"+t.formatNumberWithCommas(t.ethFeeRete,2))+")")])])]),e("p",{staticClass:"underline"},[t._v(t._s(t.margin>0?"-"+t.formatNumberWithCommas(t.ethFeeRete,2):0)+" USD")])])],1)]),e("div",{staticClass:"position-btn btns"},[t.userAddress&&parseFloat(t.chainId)===parseFloat(t.currentChainId)?t.userAddress&&t.tradingBtnLoading?e("van-button",{attrs:{disabled:""}},[t._v("Loading...")]):t.userAddress&&(t.allowanceNum>0&&parseFloat(t.allowanceNum)>=t.margin||t.pool["baseToken"]["id"].toLowerCase()==t.wethAddress.toLowerCase())?e("van-button",{attrs:{disabled:t.disabledBtn},on:{click:t.handleTrade}},[t._v(t._s(parseFloat(t.margin)>parseFloat(t.balance)?t.$t("common.insufficientBalance"):""+t.$t("common.add")))]):t.userAddress&&(t.allowanceNum<=0||parseFloat(t.allowanceNum)<t.margin)&&t.pool["baseToken"]["id"].toLowerCase()!=t.wethAddress.toLowerCase()?e("van-button",{staticClass:"switch",on:{click:t.handleProve}},[t._v(t._s(t.$t("common.approve"))+" "+t._s(t.pool.baseToken.symbol))]):t._e():e("ConnectWallet")],1)],1)},d=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-box2-right"},[e("span",[t._v("YLP")])])}],p=i("fd03"),m=i("eaa7"),u=i("1bf0"),h=i("c7e9"),v=i("2f14"),_=(i("bb93"),i("b1a5")),b=i("5e85"),y=i("f498"),f=i("7126e"),g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"slider lp-slider"},[200==parseFloat(t.pool.taker_leverage_max)?e("el-slider",{attrs:{"show-tooltip":t.showTooltip,"format-tooltip":t.formatTooltip,min:1,max:200,marks:t.marks200},on:{change:t.changeLeverage},model:{value:t.leverage,callback:function(e){t.leverage=e},expression:"leverage"}}):50==parseFloat(t.pool.taker_leverage_max)?e("el-slider",{attrs:{"show-tooltip":t.showTooltip,"format-tooltip":t.formatTooltip,min:1,max:50,marks:t.marks50},on:{change:t.changeLeverage},model:{value:t.leverage,callback:function(e){t.leverage=e},expression:"leverage"}}):10==parseFloat(t.pool.taker_leverage_max)?e("el-slider",{attrs:{"show-tooltip":t.showTooltip,"format-tooltip":t.formatTooltip,min:1,max:10,marks:t.marks10},on:{change:t.changeLeverage},model:{value:t.leverage,callback:function(e){t.leverage=e},expression:"leverage"}}):e("el-slider",{attrs:{"show-tooltip":t.showTooltip,"format-tooltip":t.formatTooltip,min:1,max:100,marks:t.marks100},on:{change:t.changeLeverage},model:{value:t.leverage,callback:function(e){t.leverage=e},expression:"leverage"}})],1)},C=[],T={props:{showTooltip:{type:Boolean,default:!0}},data(){return{leverage:null,marks200:{1:"1X",40:"40X",80:"80X",120:"120X",160:"160X",200:{style:{width:"50px"},label:this.$createElement("span","200X")}},marks100:{1:"1X",20:"20X",40:"40X",60:"60X",80:"80X",100:{style:{width:"45px"},label:this.$createElement("span","100X")}},marks50:{1:"1X",10:"10X",20:"20X",30:"30X",40:"40X",50:{style:{width:"45px"},label:this.$createElement("span","50X")}},marks10:{1:"1X",2:"2X",4:"4X",6:"6X",8:"8X",10:{style:{width:"45px"},label:this.$createElement("span","10X")}}}},computed:{...Object(o["c"])({lpLeverage:t=>t.lpLeverage,pool:t=>t.pool})},watch:{lpLeverage(){this.leverage=this.lpLeverage}},mounted(){this.leverage=this.lpLeverage},methods:{formatTooltip(t){return t+"x"},changeLeverage(t){this.$store.dispatch("asyncUpdateLpLeverage",t)}}},k=T,P=(i("1b47"),i("2877")),L=Object(P["a"])(k,g,C,!1,null,"6986dc6e",null),w=L.exports,x=i("d6ad"),O=i("901e"),I=i.n(O),$={components:{Infos:u["a"],Button:f["a"],Leverage:w,SettlementBtn:x["a"],ConnectWallet:m["a"]},props:{from:{type:Boolean,default:!1},showTradeProp:{type:Boolean,default:!0}},data(){return{margin:"",timer:null,balance:null,allowanceNum:null,expectedValue:"",expectedUSD:"",liquidity:null,tradingBtnLoading:!1,receive:null,ethRate:null,orderFee:Object(h["a"])().orderFee,chainId:null}},computed:{...Object(o["c"])({currentChainId:t=>t.currentChainId,userAddress:t=>t.accounts,slippage:t=>t.slippage,lpLeverage:t=>t.lpLeverage,pool:t=>t.pool,sharePrice:t=>t.sharePrice}),wethAddress(){return Object(h["a"])().weth},disabledBtn(){return parseFloat(this.margin)>parseFloat(this.balance)||this.margin<=0||(parseFloat(this.margin)>parseFloat(this.balance)||this.margin<=0)},slippage:{get(){return this.$store.state.slippage}},liqPrice(){const{margin:t,lpLeverage:e,liquidity:i,pool:a}=this;return I()(t).multipliedBy(e).minus(t).div(i).div(I()(1).minus(a.marketLists[0].mm)).toFixed()},ethFeeRete(){return I()(this.orderFee._fee).multipliedBy(this.ethRate).toFixed()}},watch:{pool(){this.tradingBtnLoading=!0,this.margin="",this.expected_opening="",this.balance="",this.allowanceNum="",this.expectedValue="",this.liquidity="",this.receive="",this.getBalance()},userAddress(){this.getBalance()},lpLeverage(){this.calcGetLP()}},async created(){this.tradingBtnLoading=!0,this.userAddress&&this.getBalance(),this.timer=setInterval(()=>{this.userAddress&&this.getBalance()},5e3)},mounted(){this.chainId=Object(h["a"])().rpcId,this.getExchangeRate()},beforeDestroy(){window.clearInterval(this.timer),this.timer=null},methods:{...Object(o["b"])(["CONNECT_PROP","UPDATA_LPLOADING"]),fromDecimal:v["l"],formatNumberWithCommas:v["i"],toPercent:v["z"],toDecimal:v["y"],getExchangeRate(){Object(p["c"])().then(t=>{this.ethRate=t.data["ETH-USDT"]})},calcGetLP(){const{expectedValue:t,expectedUSD:e,liquidity:i}=Object(_["e"])(this.margin,this.sharePrice,1,"buy",this.lpLeverage);this.expectedValue=parseFloat(t)>0?I()(t).toFixed(4):null,this.expectedUSD=e,this.liquidity=i,this.receive=parseFloat(t)>0?I()(t).toFixed(4):null},async handleTrade(){const t=Date.parse(new Date)/1e3+60*this.slippage.time,e=this.toDecimal(this.margin,this.pool.baseToken.decimal);let i,a,s=this,o=0,l=this.pool.baseToken.symbol;if(i=this.pool["baseToken"]["id"].toLowerCase()==this.wethAddress.toLowerCase(),parseFloat(this.margin)<parseFloat(o))return a=`${this.$t("liquidity.minAdd")}${parseFloat(o)} ${l}`,void this.handleNotify(a);let n=this.margin+this.pool.baseToken.symbol;this.UPDATA_LPLOADING(!0),this.$emit("closeProp");let r=2!=parseInt(this.pool["marketLists"][0]["marketType"]);Object(b["l"])(!0,i,this.pool.id,e,this.lpLeverage,r,t,s,n)},async handleProve(){const{baseToken:t}=this.pool;this.allowanceNum=await Object(y["b"])(t.id,Object(h["a"])().router),this.getBalance()},getBalance(){try{const{baseToken:t}=this.pool;Object(y["a"])(t.id,Object(h["a"])().router,this.userAddress).then(t=>{this.allowanceNum=t,this.tradingBtnLoading=!1}),Object(y["c"])(t.id,Number(t.decimals)).then(t=>{this.balance=I()(t).toFixed()})}catch(t){console.log(t),this.balance="--"}},max(){this.margin=this.balance,this.calcGetLP()},handleNotify(t){this.$notify({title:"",message:t,position:"bottom-right"})}}},A=$,F=(i("4805"),Object(P["a"])(A,c,d,!1,null,"a25037cc",null)),B=F.exports,N=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ticker"},[e("div",{staticClass:"left-box"},[e("ul",[e("SelectPool",{attrs:{title:[t.$t("common.pools"),t.$t("liquidity.ylpPrice"),t.$t("trade.change")]}}),e("li",{staticClass:"index-price pool-price-box",style:{color:"#2EBB84"}},[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticClass:"tooltip-inner",attrs:{slot:"content"},slot:"content"},[t._v(" YLP Price = (Liquidity + Unrealized PNL + Unrealized Funding) / Total YLP Minted ")]),e("span",{staticClass:"underline"},[t._v(t._s(t.formatNumberWithCommas(t.sharePrice,6)))])]),e("span",{staticClass:"change24h-h5",style:{color:parseFloat(t.netValueChange)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(t.netValueChange)>0?"+"+t.netValueChange:t.netValueChange)+"%")])],1)],1)]),e("div",{staticClass:"right-box"},[e("ul",{staticClass:"right-box-item"},[e("li",[e("span",[t._v("APR")]),e("div",[e("span",{style:{color:parseFloat(t.calcApr)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(t.formatNumberWithCommas(t.calcApr,2))+"%")])])]),e("li",[e("span",[t._v(t._s(t.$t("liquidity.market")))]),e("div",{staticClass:"pool-markets"},t._l(t.pool.marketLists,(function(i,a){return e("span",{key:a,on:{click:function(e){return t.goTrade(i.price_type,t.pool.baseToken.symbol)}}},[t._v(" "+t._s(i.price_type)+" ")])})),0)]),e("li",[e("span",[t._v(t._s(t.$t("liquidity.liquidity")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.poolInfo.leveragedLiquidity,2))+" "+t._s(t.pool.baseToken.symbol))])]),e("li",{staticClass:"change24h"},[e("span",[t._v(t._s(t.$t("trade.hoursChange")))]),e("span",{style:{color:parseFloat(t.pool.change)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(t.pool.change)>0?"+"+t.formatNumberWithCommas(t.pool.change,4):t.formatNumberWithCommas(t.pool.change,4))+"%")])])])])])},D=[],S=function(){var t=this,e=t._self._c;return e("div",[e("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{"visible-change":t.isShow}},[e("span",{staticClass:"el-dropdown-link"},[e("div",{staticClass:"choose-market"},[e("p",[t._v(t._s(t.pool.marketLists[0].price_type)+" Pool")])]),e("img",{staticClass:"arrowhead",attrs:{src:i("4e05"),alt:""}})]),e("div",{staticClass:"settlement-leverage-box"},[e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),e("LeverageBtn",{attrs:{leverage:t.pool.taker_leverage_max}})],1),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("ul",{staticClass:"token-title"},t._l(t.title,(function(i,a){return e("li",{key:a},[e("span",[t._v(t._s(i))])])})),0),e("div",{staticClass:"scroll-box"},t._l(t.pools,(function(i,a){return e("el-dropdown-item",{key:a},[e("ul",{staticClass:"token-list",on:{click:function(e){return t.switchMarket(i)}}},[e("li",[e("span",[t._v(t._s(i.marketLists[0].price_type))]),e("div",[e("SettlementBtn",{attrs:{settlement:i.baseToken.symbol}}),e("LeverageBtn",{attrs:{leverage:i.taker_leverage_max}})],1)]),e("li",[e("span",[t._v(t._s(t.formatNumberWithCommas(t.sharePrices[i.id]&&t.sharePrices[i.id].price,6)||"--"))])]),e("li",[i?e("span",{style:{color:parseFloat(i.change)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(i.change)>0?"+"+t.formatNumberWithCommas(i.change,4):t.formatNumberWithCommas(i.change,4)||"--")+"%")]):t._e()])])])})),1)])],1)],1)},q=[],j=(i("13d5"),i("fd1b")),E=i("2ca0"),R={props:{title:{type:Array,default:()=>[]}},components:{LeverageBtn:E["a"],SettlementBtn:x["a"]},data(){return{sharePrices:{},allChange:{}}},computed:{...Object(o["c"])({lpLeverage:t=>t.lpLeverage,pools:t=>{const e=[...t.pools],i=e.sort((t,e)=>{if(t.marketLists[0].marketType<e.marketLists[0].marketType)return-1;if(t.marketLists[0].marketType>e.marketLists[0].marketType)return 1;const i=t.marketLists[0].price_type.includes("BTC"),a=e.marketLists[0].price_type.includes("BTC"),s=t.marketLists[0].price_type.includes("ETH"),o=e.marketLists[0].price_type.includes("ETH");return i&&!a?-1:!i&&a?1:s&&!o?-1:!s&&o?1:0});return i},pool:t=>t.pool})},beforeDestroy(){clearInterval(this.timer),this.timer=null},methods:{fromDecimal:v["l"],formatNumberWithCommas:v["i"],isShow(t){t&&this.getAllPrices()},switchMarket(t){this.UPDATE_POOL(t);let e=this.$route.params.lang;this.$router.push({path:`/${e}/pool/${t.id}`}),this.UPDATA_LPLOADING(!1),this.UPDATE_POOLINFO({}),this.UPDATE_LPPOSITION([]),parseFloat(this.lpLeverage)>parseFloat(t.taker_leverage_max)&&this.$store.dispatch("asyncUpdateLpLeverage",10)},async getPriceForPool(t){const e=await Object(j["l"])(t.id);return{[t.id]:{price:Object(v["l"])(e,10)}}},async getAllPrices(){const t=this.pools.map(t=>this.getPriceForPool(t)),e=await Promise.all(t),i=e.reduce((t,e)=>({...t,...e}),{});this.sharePrices=i},async getAllChange(){const t=this.pools.map(t=>this.getChange(t.id)),e=await Promise.all(t),i=e.reduce((t,e)=>({...t,...e}),{});this.allChange=i},async getChange(t){const e=Math.floor((new Date).getTime()/1e3),i=Math.floor(((new Date).getTime()-2592e6)/1e3);let a={pool:t,type:"h",from:i,to:e},s=await Object(p["o"])(a);const{change:o}=s;return{[t]:{change:Object(v["l"])(o,0,4,!1)}}},...Object(o["b"])(["UPDATE_POOL","UPDATA_LPLOADING","UPDATE_POOLINFO","UPDATE_LPPOSITION"])}},W=R,U=(i("52942"),Object(P["a"])(W,S,q,!1,null,"7789bd96",null)),V=U.exports,M={props:["netValueChange"],data(){return{sharePrice:null,timer:null}},components:{SelectPool:V},computed:{...Object(o["c"])({pool:t=>t.pool,poolInfo:t=>t.poolInfo}),calcApr(){return I()(this.pool.apr).plus(this.pool.mining_apr).toFixed()}},watch:{"pool.id"(){this.sharePrice="--",this.getSharePrice()}},mounted(){this.getSharePrice(),this.timer=setInterval(()=>{this.getSharePrice()},5e3)},beforeDestroy(){clearInterval(this.timer),this.timer=null},methods:{fromDecimal:v["l"],formatNumberWithCommas:v["i"],interceptObject:v["s"],shouldRenderComma(t){return t<this.pool.marketLists.length-1},getSharePrice(){Object(j["l"])(this.pool.id).then(t=>{this.sharePrice=Object(v["l"])(t,10),this.UPDATE_SHAREPRICE(this.sharePrice)})},goTrade(t,e){this.UPDATE_LPOSITION([]),this.UPDATE_SPOSITION([]),this.UPDATE_SMARKET({});let i=localStorage.locale||"en";this.$router.push(`/${i}/trade/${t}/${e}`)},...Object(o["b"])(["UPDATE_SMARKET","UPDATE_LPOSITION","UPDATE_SPOSITION","UPDATE_SHAREPRICE"])}},z=M,X=(i("2f10"),Object(P["a"])(z,N,D,!1,null,"42d5f092",null)),G=X.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"position"},[e("div",{staticClass:"tab lp-position-tab"},[e("ul",[e("li",{style:{color:"currentPosition"==t.positionType?"#F7A600":"#ADB1B8"},on:{click:function(e){t.positionType="currentPosition"}}},[t._v(t._s(t.$t("liquidity.lpPositions"))),e("p",[t._v("("+t._s(t.lpPosition.length)+")")])]),e("li",{style:{color:"orders"==t.positionType?"#F7A600":"#ADB1B8"},on:{click:function(e){t.positionType="orders"}}},[t._v(t._s(t.$t("liquidity.orders"))+"("+t._s(t.filteredOrders.length)+") ")]),e("li",{style:{color:"historyPosition"==t.positionType?"#F7A600":"#ADB1B8"},on:{click:function(e){t.positionType="historyPosition"}}},[t._v(t._s(t.$t("trade.orderHistory"))+" ")])])]),t.accounts?parseFloat(t.chainId)!==parseFloat(t.currentChainId)?e("div",{staticClass:"connect-wallet"},[e("span",{on:{click:t.modalOpen}},[t._v("Switch Network")]),t._v(" to trade ")]):e("div",{staticStyle:{height:"100%"}},[e("current-position",{directives:[{name:"show",rawName:"v-show",value:"currentPosition"==t.positionType,expression:"positionType == 'currentPosition'"}]}),"historyPosition"==t.positionType?e("history-position",{attrs:{list:t.orders}}):t._e(),e("Orders",{directives:[{name:"show",rawName:"v-show",value:"orders"==t.positionType,expression:"positionType == 'orders'"}],attrs:{orders:t.filteredOrders}})],1):e("div",{staticClass:"connect-wallet"},[e("span",{on:{click:t.modalOpen}},[t._v("Connect Wallet")]),t._v(" to trade ")]),e("div",{staticClass:"trade-btns h5"},[e("el-button",{staticClass:"purchase-btn",on:{click:function(e){return t.showTrade(1)}}},[t._v("Add")])],1),e("van-popup",{staticClass:"trade-prop",style:{height:"80%",background:"#000"},attrs:{position:"bottom",round:""},model:{value:t.showTradeProp,callback:function(e){t.showTradeProp=e},expression:"showTradeProp"}},[e("div",{staticClass:"prop-title"},[e("div",[e("span",[t._v("Add "+t._s(t.pool.marketLists[0].price_type))]),e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),e("span",[t._v("Liquidity")])],1),e("img",{attrs:{src:i("1b87"),alt:""},on:{click:function(e){t.showTradeProp=!1}}})]),e("PositionTrade",{ref:"tradePosition",attrs:{from:!0,showTradeProp:t.showTradeProp},on:{closeProp:function(e){return t.closeProp(e)}}})],1)],1)},H=[],K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"s-box"},[e("div",{staticClass:"current-position pc"},[e("ul",{staticClass:"title"},[e("li",{staticClass:"symbol"},[t._v(t._s(t.$t("liquidity._pool")))]),e("li",{staticClass:"amount"},[t._v(t._s(t.$t("liquidity.liquidity")))]),e("li",{staticClass:"margin"},[t._v(t._s(t.$t("trade.margin"))+"("+t._s(t.pool.baseToken.symbol)+")")]),e("li",{staticClass:"entry-price"},[t._v(t._s(t.$t("trade.entryPrice")))]),e("li",{staticClass:"liq-price"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:""+t.$t("liquidity.liqPriceTip"),placement:"top"}},[e("span",{staticClass:"underline"},[t._v(t._s(t.$t("trade.liqPrice_")))])])],1),e("li",{staticClass:"pnl"},[t._v(t._s(t.$t("trade.unrealizedPNL")))]),e("li",{staticClass:"taker-close"},[t._v(t._s(t.$t("liquidity.remove")))])]),0==t.currentPosition.length?e("noRecord"):t._l(t.currentPosition,(function(i,a){var s,o,l,n,r,c,d;return e("ul",{key:a,staticClass:"list-item"},[i["id"].toLowerCase()==t.pool["id"].toLowerCase()?e("div",{staticClass:"list-item"},[e("li",{staticClass:"symbol"},[e("span",[t._v(t._s(t.pool.marketLists[0].price_type)+" Pool")]),e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),e("LeverageBtn",{attrs:{leverage:i.leverage}}),t.lpPositionLoading?e("TradeLoading",{staticStyle:{"margin-left":"12px"}}):t._e()],1),e("li",{staticClass:"amount"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.formatNumberWithCommas(t.fromDecimal(i.liquidity,18),4)+" YLP",placement:"top"}},[e("b",{staticClass:"yellow underline"},[t._v(t._s(t.formatNumberWithCommas(i.lpShareBanlance,4))+" "+t._s(t.pool.baseToken.symbol))])])],1),e("li",{staticClass:"margin"},[t._v(" "+t._s(t.formatNumberWithCommas(t.fromDecimal(i.initMargin,t.pool.baseToken.decimal),4))+" "),e("i",{staticClass:"el-icon-edit",on:{click:function(e){return t.openRemoveOrAdd(i,"add")}}})]),e("li",{staticClass:"entry-price"},[t._v(t._s(t.formatNumberWithCommas(i.entryPrice,6)))]),0==parseFloat(t.liqPrice)?e("li",{staticClass:"liq-price",staticStyle:{color:"#f7a600"}},[t._v(" -- ")]):e("li",{staticClass:"liq-price",staticStyle:{color:"#f7a600"}},[t._v(" "+t._s(t.formatNumberWithCommas(t.liqPrice,6))+" ")]),e("li",{staticClass:"pnl",style:{color:parseFloat(null===(s=i.pnl)||void 0===s?void 0:s.pnl)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(null===(o=i.pnl)||void 0===o?void 0:o.pnl)>0?"+"+t.formatNumberWithCommas(null===(l=i.pnl)||void 0===l?void 0:l.pnl,4):""+(t.formatNumberWithCommas(null===(n=i.pnl)||void 0===n?void 0:n.pnl,4)||"--"))+" ("+t._s(parseFloat(null===(r=i.pnl)||void 0===r?void 0:r.pnl)>0?"+"+t.toPercent(null===(c=i.pnl)||void 0===c?void 0:c.pnlRate):""+t.toPercent(null===(d=i.pnl)||void 0===d?void 0:d.pnlRate))+")"),e("i",{staticClass:"el-icon-share",on:{click:function(e){return t.openShare(i)}}})]),e("li",{staticClass:"taker-close"},[e("div",{on:{click:function(e){return t.openRemoveOrAdd(i,"sell")}}},[i.liquidity?e("Btn",{attrs:{info:""+t.$t("common.remove")}}):e("span",[t._v("--")])],1)])]):t._e()])})),e("Share",{ref:"share",attrs:{positionItem:t.positionItem}})],2),e("div",{staticClass:"h5"},[0==t.currentPosition?e("noRecord"):t._l(t.currentPosition,(function(i,a){var s,o,l,n,r,c,d,p;return e("div",{key:a},[i["id"].toLowerCase()==t.pool["id"].toLowerCase()?e("div",{staticClass:"position-item"},[e("div",{staticClass:"symbol"},[e("span",[t._v(" "+t._s(t.pool.marketLists[0].price_type)+" Pool ")]),e("div",[e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),e("LeverageBtn",{attrs:{leverage:i.leverage}})],1),t.lpPositionLoading?e("TradeLoading",{staticStyle:{"margin-left":"12px"}}):t._e()],1),e("ul",{staticClass:"info"},[e("li",[e("span",[t._v(t._s(t.$t("liquidity.liquidity")))]),e("span",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.formatNumberWithCommas(t.fromDecimal(i.liquidity,18),4)+" YLP",placement:"top"}},[e("b",{staticClass:"yellow underline"},[t._v(t._s(t.formatNumberWithCommas(i.lpShareBanlance,4))+" "+t._s(t.pool.baseToken.symbol))])])],1)]),e("li",[e("span",[t._v(t._s(t.$t("trade.entryPrice")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(i.entryPrice,6)))])]),e("li",[e("span",[t._v(t._s(t.$t("trade.unrealizedPNL")))]),e("span",{style:{color:parseFloat(null===(s=i.pnl)||void 0===s?void 0:s.pnl)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(null===(o=i.pnl)||void 0===o?void 0:o.pnl)>0?"+"+t.formatNumberWithCommas(null===(l=i.pnl)||void 0===l?void 0:l.pnl,4):""+(t.formatNumberWithCommas(null===(n=i.pnl)||void 0===n?void 0:n.pnl,4)||"--")))])])]),e("ul",{staticClass:"info"},[e("li",[e("span",[e("i",[t._v(t._s(t.$t("trade.margin"))+"("+t._s(t.pool.baseToken.symbol)+")")]),e("i",{staticClass:"el-icon-edit",on:{click:function(e){return t.openRemoveOrAdd(i,"add")}}})]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.fromDecimal(i.initMargin,t.pool.baseToken.decimal),4)))])]),e("li",[e("span",[e("i",[t._v(t._s(t.$t("trade.liqPrice_")))])]),0==parseFloat(t.liqPrice)?e("span",{staticStyle:{color:"#F7A600!important"}},[t._v("--")]):e("span",{staticStyle:{color:"#F7A600!important"}},[t._v(t._s(t.formatNumberWithCommas(t.liqPrice,6)))])]),e("li",[e("span",[t._v(t._s(t.$t("trade.ROE"))),e("i",{staticClass:"el-icon-share",on:{click:function(e){return t.openShare(i)}}})]),e("span",{style:{color:parseFloat(null===(r=i.pnl)||void 0===r?void 0:r.pnl)>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(null===(c=i.pnl)||void 0===c?void 0:c.pnl)>0?"+"+t.toPercent(null===(d=i.pnl)||void 0===d?void 0:d.pnlRate):""+t.toPercent(null===(p=i.pnl)||void 0===p?void 0:p.pnlRate)))])])]),e("div",{staticClass:"btns"},[i.liquidity?e("el-button",{staticClass:"profit-loss-btn",style:{width:"100%"},on:{click:function(e){return t.openRemoveOrAdd(i,"sell")}}},[t._v("Remove")]):e("span",[t._v("--")])],1)]):t._e()])}))],2),e("el-dialog",{staticClass:"set-up",attrs:{title:"buy"==t.lpType?"Add":"sell"==t.lpType?"Remove":"Add","show-close":!0,visible:t.isLpSell,center:"","append-to-body":!0},on:{"update:visible":function(e){t.isLpSell=e},close:t.handleClose}},[t.isLpSell?e("lp-sell",{attrs:{lpType:t.lpType,lpInfo:t.lpInfo,sellLeverage:1},on:{countdownLoading:function(e){return t.countdownLoading(e)},closeLpSell:function(e){return t.closeLpSell()}}}):t._e()],1)],1)},J=[],Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"btn"},[e("span",[t._v(" "+t._s(t.info)+" ")])])},Z=[],tt={props:["info"]},et=tt,it=(i("dd5d"),Object(P["a"])(et,Q,Z,!1,null,"15b5d4b0",null)),at=it.exports,st=i("872e"),ot=i("04b7"),lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"no-record"},[e("img",{attrs:{src:i("3c83"),alt:""}}),e("p",[t._v(t._s(t.$t("referrals.noDataAvailable")))])])},nt=[],rt={},ct=rt,dt=(i("8935"),Object(P["a"])(ct,lt,nt,!1,null,"12949df8",null)),pt=dt.exports,mt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"pool-detail"},[e("ul",{staticClass:"enter-content"},[e("li",[e("div",{staticClass:"title"},[e("infos",{attrs:{infos:t.$t("common.pay"),iconType:!1,color:"#ADB1B8"}}),e("div",{staticClass:"left"},[t.userBalance?e("span",[t._v(t._s(t.$t("common.balance"))+":  ")]):t._e(),e("em",[t._v(t._s(t.formatNumberWithCommas(t.userBalance,4))+" "+t._s("buy"==t.lpType?t.lpInfo.baseToken.symbol:"sell"==t.lpType?"YLP":t.lpInfo.baseToken.symbol))])])],1),e("div",{staticClass:"input-box input-box2"},[e("div",[e("van-field",{attrs:{type:"number",placeholder:"0.0"},on:{input:function(e){return t.calcGetLP(!1)}},model:{value:t.margin,callback:function(e){t.margin=e},expression:"margin"}})],1),"buy"==t.lpType||"add"==t.lpType?e("div",{staticClass:"input-box2-right"},[e("van-button",{staticClass:"all-btn",on:{click:t.max}},[t._v(t._s(t.$t("common.max")))]),e("span",[t._v(t._s(t.lpInfo.baseToken.symbol))])],1):e("div",{staticClass:"input-box2-right"},[t.stakedToVest>=0?e("van-button",{staticClass:"all-btn",on:{click:t.max}},[t._v(t._s(t.$t("common.max")))]):t._e(),e("span",[t._v(t._s("YLP"))])],1)])]),e("li",["add"!==t.lpType?e("div",{staticClass:"title"},[e("infos",{attrs:{infos:t.$t("liquidity.receive"),iconType:!1,color:"#ADB1B8"}})],1):t._e(),"add"!==t.lpType?e("div",{staticClass:"input-box input-box2 input-readonly"},[e("div",[e("van-field",{attrs:{readonly:"",placeholder:"0.0"},model:{value:t.expectedValue,callback:function(e){t.expectedValue=e},expression:"expectedValue"}})],1),"buy"!=t.lpType&&"add"!=t.lpType?e("div",{staticClass:"input-box2-right"},[e("span",[t._v(t._s(t.lpInfo.baseToken.symbol))])]):e("div",{staticClass:"input-box2-right"},[e("span",[t._v(t._s("YLP"))])])]):t._e()])]),"buy"==t.lpType?e("div",{staticClass:"slider lp-slider"},[e("el-slider",{attrs:{"show-tooltip":!0,"format-tooltip":t.formatTooltip,min:1,marks:t.marks},on:{change:t.changeLeverage},model:{value:t.leverage,callback:function(e){t.leverage=e},expression:"leverage"}})],1):t._e(),"add"!==t.lpType?e("ul",{staticClass:"sell-info"},[e("li",[e("span",[t._v(t._s(t.$t("common.pay")))]),e("b",[t._v(" "+t._s(t.margin>0?"-":"")+t._s(t.formatNumberWithCommas(t.margin,4))+" "+t._s("buy"==t.lpType||"add"==t.lpType?t.lpInfo.baseToken.symbol:"YLP"))])]),e("li",[e("span",[t._v(t._s(t.$t("common.liquidity")))]),e("b",[t._v(t._s(t.margin>0?"-":"")+t._s(t.formatNumberWithCommas(t.liquidity,4))+" "+t._s(t.lpInfo.baseToken.symbol))])]),e("li",[e("span",[t._v(t._s(t.$t("liquidity.receive")))]),e("b",[t._v(t._s(t.margin>0?"+":"")+t._s(t.formatNumberWithCommas(t.expectedValue,4))+" "+t._s("buy"==t.lpType||"add"==t.lpType?"YLP":t.lpInfo.baseToken.symbol))])]),e("li",[e("span",[t._v(t._s(t.$t("liquidity.netValue")))]),e("b",[t._v(t._s(t.formatNumberWithCommas(t.lpInfo.netValue,4)))])])]):e("ul",{staticClass:"sell-info"},[e("li",[e("span",[t._v(t._s(t.$t("trade.margin")))]),e("b",[t._v(t._s(t.margin>0?"+":"")+t._s(t.formatNumberWithCommas(t.margin,4)||"--"))])]),e("li",[e("span",[t._v(t._s(t.$t("liquidity.ylpPrice")))]),e("b",[t._v(t._s(t.formatNumberWithCommas(t.lpInfo.netValue,4)))])])])]),e("div",{staticClass:"set-btns"},[e("van-button",{staticClass:"cancle-btn",on:{click:t.handleClose}},[t._v(t._s(t.$t("common.cancel")))]),t.showProveBtn?e("van-button",{staticClass:"switch",attrs:{disabled:t.disabled},on:{click:t.handleProve}},[t._v(t._s(t.disabled?"Loading...":t.$t("common.approve"))+" "+t._s(t.disabled?"":t.lpInfo.baseToken.symbol))]):"add"!==t.lpType&&"--"==t.stakedToVest?e("van-button",{attrs:{disabled:""}},[t._v("Loading...")]):e("van-button",{attrs:{disabled:!t.margin||parseFloat(t.margin)>parseFloat(t.maxRemoveAmount)||t.margin<=0},on:{click:function(e){return t.handleConfirm()}}},[t._v(t._s(parseFloat(t.margin)>parseFloat(t.maxRemoveAmount)?t.$t("common.insufficientBalance"):t.$t("common.confirm")))])],1)])},ut=[],ht=i("7470"),vt=i("2b81"),_t=i("ea2c"),bt={props:["lpType","lpInfo","sellLeverage"],components:{SetBtns:ht["a"],Infos:u["a"],InputBtn:vt["a"]},data(){return{margin:"",allowanceNum:0,expectedValue:"",expectedUSD:"",isStakeLp:!0,isUnStake:!0,leverage:null,liquidity:null,balance:null,timer:null,orderFee:Object(h["a"])().orderFee,marks:{1:"1X",20:"20X",40:"40X",60:"60X",80:"80X",100:{style:{width:"45px"},label:this.$createElement("strong","100X")}},disabled:!1,timer2:null,isCountdownLoading:!1,countdown:null,stakedToVest:0}},computed:{...Object(o["c"])({slippage:t=>t.slippage,lpLeverage:t=>t.lpLeverage,pool:t=>t.pool,sharePrice:t=>t.sharePrice}),showProveBtn(){return!(!this.lpInfo.userAddress||this.lpInfo["baseToken"]["id"].toLowerCase()==this.wethAddress.toLowerCase()||"buy"!=this.lpType&&"add"!=this.lpType)&&(this.allowanceNum<=0||parseFloat(this.margin)>this.allowanceNum)},wethAddress(){return Object(h["a"])().weth},userBalance(){let t;return t="buy"==this.lpType||"add"==this.lpType?this.balance:this.lpInfo.lpBanlance,t},maxRemoveAmount(){return"add"==this.lpType?I()(this.userBalance).toFixed():I()(this.userBalance).minus(this.stakedToVest).toFixed()}},async mounted(){this.disabled=!0,this.allowanceNum=await Object(y["a"])(this.lpInfo.baseToken.id,this.lpInfo.router),this.leverage=this.lpLeverage,this.balance=await Object(y["c"])(this.lpInfo.baseToken.id,this.lpInfo.baseToken.decimal),this.disabled=!1},beforeDestroy(){clearInterval(this.timer),this.timer=null},methods:{...Object(o["b"])(["CHANGE_LPLEVERAGE","UPDATA_LPLOADING"]),async getVestStaked(){try{const t=await Object(p["j"])(),e=t.data.lp_unstaked.find(t=>t.address.toLowerCase()===this.pool.id.toLowerCase());if(e){let t=await Object(_t["f"])();const i=t[0].findIndex(t=>t.toLowerCase()===e.sf_token_address.toLowerCase());this.stakedToVest=Object(v["l"])(t[2][i],18)}else this.stakedToVest=0}catch(t){this.stakedToVest=0}},loadCountdown(){const t=localStorage.getItem("addLiquidityTimestamp");t&&this.calculateCountdown()},calculateCountdown(){const t=parseInt(localStorage.getItem("addLiquidityTimestamp"),10),e=Date.now(),i=Math.floor((e-t)/1e3),a=Math.max(60-i,0);this.countdown=a,this.timer2=setInterval(()=>{this.countdown--,this.countdown<=0?(clearInterval(this.timer2),this.timer2=null,this.isCountdownLoading=!1):!this.isCountdownLoading&&(this.isCountdownLoading=!0)},1e3)},async handleConfirm(){const t=Date.parse(new Date)/1e3+60*this.slippage.time;let e;e="buy"==this.lpType||"add"==this.lpType?this.toDecimal(this.margin,this.lpInfo.baseToken.decimal):this.toDecimal(this.margin,18);let i=this;this.handleClose();let a,s,o=0,l=0,n=this.pool.baseToken.symbol;if("buy"==this.lpType||"add"==this.lpType){if(s=this.lpInfo["baseToken"]["id"].toLowerCase()==this.wethAddress.toLowerCase(),parseFloat(this.margin)<parseFloat(o))return a=`${this.$t("liquidity.minAdd")}${parseFloat(o)} ${n}`,void this.handleNotify(a);this.UPDATA_LPLOADING(!0);let l=this.margin+this.lpInfo.baseToken.symbol;if("add"==this.lpType){let t=this.lpInfo.id,a=await Object(j["c"])(t);return void(s?Object(b["a"])(t,a,e,i,e):Object(b["a"])(t,a,e,i))}Object(b["l"])(!1,s,this.lpInfo.id,e,this.leverage,this.isStakeLp,t,i,l)}else{if(this.UPDATA_LPLOADING(!0),s=this.lpInfo["baseToken"]["id"].toLowerCase()==this.wethAddress.toLowerCase(),parseFloat(this.margin)<parseFloat(l))return a=`${this.$t("liquidity.minRemove")}${parseFloat(l)} ${n}`,this.handleNotify(a),void this.UPDATA_LPLOADING(!1);let o=2!=parseInt(this.pool["marketLists"][0]["marketType"]);Object(b["l"])(!1,s,this.lpInfo.id,e,this.leverage,o,t,i)}},calcGetLP(t){let e="buy"==this.lpType?this.leverage:"sell"==this.lpType?this.lpInfo.leverage:"1";const{expectedValue:i,expectedUSD:a,liquidity:s}=Object(_["e"])(this.margin,this.sharePrice,e,this.lpType,e,this.lpInfo.pnl,t);this.expectedValue=parseFloat(i)>0?I()(i).toFixed(4):null,this.expectedUSD=a,this.liquidity=s},async handleProve(){this.disabled=!0,await Object(y["b"])(this.lpInfo.baseToken.id,this.lpInfo.router).then(async t=>{this.disabled=!1,this.allowanceNum=await Object(y["a"])(this.lpInfo.baseToken.id,this.lpInfo.router)}).catch(t=>{this.disabled=!1}),this.timer||(this.timer=setInterval(async()=>{this.allowanceNum=await Object(y["a"])(this.lpInfo.baseToken.id,this.lpInfo.router)},2e3))},handleNotify(t){this.$notify({title:"",message:t,position:"bottom-right"})},handleClose(){this.$emit("closeLpSell")},max(){this.margin=this.maxRemoveAmount,this.calcGetLP(!0)},formatTooltip(t){return t+"x"},changeLeverage(t){this.CHANGE_LPLEVERAGE(t),this.calcGetLP(!1)},toDecimal:v["y"],fromDecimal:v["l"],formatNumberWithCommas:v["i"]}},yt=bt,ft=(i("55e5"),Object(P["a"])(yt,mt,ut,!1,null,"5ec325cc",null)),gt=ft.exports,Ct={components:{Btn:at,TradeLoading:st["a"],Share:ot["a"],noRecord:pt,LpSell:gt,LeverageBtn:E["a"],SettlementBtn:x["a"]},data(){return{positionItem:{},liqPrice:"--",isLpSell:!1,lpType:"",lpInfo:{},timer:null}},computed:{...Object(o["c"])({pool:t=>t.pool,lpPosition:t=>t.lpPosition,lpPositionLoading:t=>t.lpPositionLoading,accounts:t=>t.accounts,waitLpPosition:t=>t.waitLpPosition}),currentPosition(){const{lpPosition:t,waitLpPosition:e}=this;return parseInt(t.length)>0?t:e}},watch:{"pool.id"(){this.liqPrice="--",this.getLiqPrice()}},mounted(){this.timer=setInterval(()=>{this.getLiqPrice()},5e3)},beforeDestroy(){clearInterval(this.timer),this.timer=null},methods:{fromDecimal:v["l"],toPercent:v["z"],formatNumberWithCommas:v["i"],getLiqPrice(){this.lpPosition.length>0&&this.lpPosition[0].liquidity>0&&this.accounts?Object(j["d"])(this.pool.id,this.lpPosition[0].positionId).then(t=>{this.liqPrice=Object(v["l"])(t,10)}):this.liqPrice="--"},openRemoveOrAdd(t,e){this.lpType=e,t.lpBanlance=Object(v["l"])(t.liquidity,18),t.balance=this.balance,t.userAddress=this.accounts,t.router=Object(h["a"])().router,this.lpInfo=t,this.isLpSell=!0},handleClose(){this.isLpSell=!1},closeLpSell(){this.isLpSell=!1},openShare(t){t.dataType="pool",this.positionItem=t,this.$refs.share.openProp("data",!0)}}},Tt=Ct,kt=(i("4925"),Object(P["a"])(Tt,K,J,!1,null,"20e851a7",null)),Pt=kt.exports,Lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"s-box"},[e("div",{staticClass:"position-now pc"},[e("ul",{staticClass:"title"},[e("li",{staticClass:"time"},[t._v(t._s(t.$t("referrals.time")))]),e("li",{staticClass:"symbol"},[t._v(t._s(t.$t("liquidity._pool")))]),e("li",{staticClass:"type"},[t._v(t._s(t.$t("liquidity.operation")))]),e("li",[t._v(t._s(t.$t("liquidity.liquidity")))]),e("li",[t._v(t._s(t.$t("liquidity.ylpPrice")))]),e("li",[t._v(t._s(t.$t("trade.margin")))]),e("li",{staticClass:"pnl"},[t._v(t._s(t.$t("trade.PNL")))])]),t.loading?e("div",{staticClass:"loading"},[e("TradeLoading",{attrs:{w:30,h:30}})],1):0==t.list.length?e("noRecord"):t._e(),t._l(t.list,(function(i,a){return e("ul",{key:a,staticClass:"list-item"},[e("li",{staticClass:"time"},[e("div",{staticClass:"time-box"},[i.createTs>0?e("div",[e("span",[t._v(t._s(t._timestampToTime(i.createTs)))]),i.createTxId?e("a",{attrs:{href:`${t.blockBrowser}tx/${i.createTxId}`,target:"_blank"}},[e("i",{staticClass:"el-icon-link"})]):t._e()]):t._e(),i.executedTs>0?e("div",[e("span",[t._v(t._s(t._timestampToTime(i.executedTs)))]),i.executedTxId?e("a",{attrs:{href:`${t.blockBrowser}tx/${i.executedTxId}`,target:"_blank"}},[e("i",{staticClass:"el-icon-link"})]):t._e()]):t._e()])]),e("li",{staticClass:"symbol"},[e("span",[t._v(t._s(t.pool.marketLists[0].price_type)+" Pool")]),e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),parseFloat(i.leverage)>0?e("LeverageBtn",{attrs:{leverage:i.leverage}}):t._e()],1),e("li",{staticClass:"type",style:{color:0==i.orderType?"#2EBB84":"#F5455B"}},[t._v(t._s(t.orderTypeDictionary[i.orderType]))]),e("li",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.formatNumberWithCommas(i.lpAmount,4)+" YLP",placement:"top"}},[e("b",{staticClass:"yellow underline"},[t._v(t._s(t.formatNumberWithCommas(t.lpShareBanlance(i.lpAmount,i.sharePriceToExecute),4))+" "+t._s(t.pool.baseToken.symbol))])])],1),e("li",[t._v(" "+t._s(t.formatNumberWithCommas(i.sharePriceToExecute,6))+" ")]),e("li",[t._v(t._s(0==parseInt(i.orderType)?t.formatNumberWithCommas(i.margin,4):t.formatNumberWithCommas(i.toMaker,4))+" "+t._s(t.pool.baseToken.symbol))]),1!==parseInt(i.orderType)?e("li",{staticClass:"pnl"},[t._v("--")]):e("li",{staticClass:"pnl",style:{color:i.pnl>0?"#2EBB84":"#F5455B"}},[t._v(t._s(parseFloat(i.pnl)>0?"+"+t.formatNumberWithCommas(i.pnl,4):t.formatNumberWithCommas(i.pnl,4)))])])}))],2),e("div",{staticClass:"h5"},[t.loading?e("div",{staticClass:"loading"},[e("TradeLoading",{attrs:{w:30,h:30}})],1):0==t.list.length?e("noRecord"):t._e(),t._l(t.list,(function(i,a){return e("div",{key:a,staticClass:"position-item"},[e("ul",[e("li",[e("span",{staticStyle:{"margin-right":"3px"}},[t._v(t._s(t.pool.marketLists[0].price_type)+" Pool")]),e("div",[e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),parseFloat(i.leverage)>0?e("LeverageBtn",{attrs:{leverage:i.leverage}}):t._e()],1),e("span",{style:{color:0==i.orderType?"#2EBB84":"#F5455B",marginRight:"5px"}},[t._v(t._s(t.orderTypeDictionary[i.orderType]))])])]),e("ul",[e("li",[t._v(" "+t._s(t.$t("liquidity.liquidity"))+" ")]),e("li",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.formatNumberWithCommas(i.lpAmount,4)+" YLP",placement:"top"}},[e("b",{staticClass:"yellow underline"},[t._v(t._s(t.formatNumberWithCommas(t.lpShareBanlance(i.lpAmount,i.sharePriceToExecute),4))+" "+t._s(t.pool.baseToken.symbol))])])],1)]),e("ul",[e("li",[t._v(" "+t._s(t.$t("trade.margin"))+" ")]),e("li",[t._v(t._s(0==parseInt(i.orderType)?t.formatNumberWithCommas(i.margin,4):t.formatNumberWithCommas(i.toMaker,4))+" "+t._s(t.pool.baseToken.symbol))])]),e("ul",[e("li",[t._v(" YLP Price ")]),e("li",[t._v(" "+t._s(t.formatNumberWithCommas(i.sharePriceToExecute,6))+" ")])]),e("ul",[e("li",[t._v(" "+t._s(t.$t("common.fee"))+"(USD) ")]),e("li",[t._v(" "+t._s(t.formatNumberWithCommas(i.fee,4))+" ")])]),e("ul",[e("li",[t._v(" "+t._s(t.$t("trade.PNL"))+"("+t._s(t.pool.baseToken.symbol)+") ")]),1!==parseInt(i.orderType)?e("li",[t._v("--")]):e("li",{style:{color:i.pnl>0?"#2EBB84":"#F5455B"}},[t._v(" "+t._s(parseFloat(i.pnl)>0?"+"+t.formatNumberWithCommas(i.pnl,4):""+t.formatNumberWithCommas(i.pnl,4))+" ")])]),i.createTs>0?e("ul",[e("li",[t._v(" "+t._s(t.$t("trade.orderTime"))+" ")]),e("li",[e("span",[t._v(" "+t._s(t._timestampToTime(i.createTs))+" ")]),i.createTxId?e("a",{attrs:{href:`${t.blockBrowser}tx/${i.createTxId}`,target:"_blank"}},[e("i",{staticClass:"el-icon-link",staticStyle:{color:"#ADB1B8"}})]):t._e()])]):t._e(),i.executedTs>0?e("ul",[e("li",[t._v(" "+t._s(t.$t("trade.onChainTime"))+" ")]),e("li",[e("span",[t._v(t._s(t._timestampToTime(i.executedTs)))]),i.executedTxId?e("a",{attrs:{href:`${t.blockBrowser}tx/${i.executedTxId}`,target:"_blank"}},[e("i",{staticClass:"el-icon-link",staticStyle:{color:"#ADB1B8"}})]):t._e()])]):t._e()])}))],2)])},wt=[],xt={props:["list"],components:{Btn:at,noRecord:pt,TradeLoading:st["a"],LeverageBtn:E["a"],SettlementBtn:x["a"]},data(){return{loading:!1,finished:!1,p:0,count:null,blockBrowser:"",timer:null,orderTypeDictionary:{0:""+this.$t("common.add"),1:""+this.$t("common.remove")}}},computed:{...Object(o["c"])({accounts:t=>t.accounts,pool:t=>t.pool})},created(){},beforeDestroy(){clearInterval(this.timer),this.timer=null},mounted(){this.blockBrowser=Object(h["a"])().blockBrowser},methods:{lpShareBanlance(t,e){return I()(e).multipliedBy(t).toFixed()},async orderHistory(){const t=`{userLiquidityHists(\n        first: 100\n        orderBy: blockTimestamp\n        orderDirection: desc\n        where: {maker: "${this.accounts}", pool: "${this.pool.id}"}\n        ) {\n        amountIn\n        amountOut\n        blockNumber\n        blockTimestamp\n        eventId\n        fee\n        id\n        liquidity\n        maker\n        pnl\n        riskFunding\n        transactionHash\n        type\n        volIn\n        volOut\n        sharePrice\n        pool {\n          baseToken {\n            decimal\n            id\n            symbol\n          }\n          id\n          lpPrice\n        }\n      }}`;let e=await Object(p["p"])(t);this.loading=!1,this.list=e.data.userLiquidityHists,this.list.forEach(t=>{t.margin=1==parseInt(t.type)?t.amountIn:t.amountOut,t.leverage=t.margin>0?I()(t.liquidity).dividedBy(t.margin).toFixed(0):"--",t.lpShareBanlance=I()(t.lpAmount).multipliedBy(t.sharePrice).toFixed(4)})},_timestampToTime:v["c"],fromDecimal:v["l"],formatNumberWithCommas:v["i"]}},Ot=xt,It=(i("1646"),Object(P["a"])(Ot,Lt,wt,!1,null,"7d990ab4",null)),$t=It.exports,At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"s-box"},[e("div",{staticClass:"current-position pc"},[e("ul",{staticClass:"title"},[e("li",{staticClass:"time"},[t._v(t._s(t.$t("referrals.time")))]),e("li",{staticClass:"symbol"},[t._v(t._s(t.$t("liquidity._pool")))]),e("li",{staticClass:"type"},[t._v(t._s(t.$t("liquidity.operation")))]),e("li",{staticClass:"amount"},[t._v(t._s(t.$t("liquidity.liquidity")))]),e("li",{staticClass:"margin"},[t._v(t._s(t.$t("trade.margin"))+"("+t._s(t.pool.baseToken.symbol)+")")]),e("li",{staticClass:"taker-close"},[t._v(t._s(t.$t("common.cancel")))])]),0==t.orders.length?e("noRecord"):t._e(),t._l(t.orders,(function(i,a){return e("ul",{key:a,staticClass:"list-item"},[e("div",{staticClass:"list-item"},[e("li",{staticClass:"time"},[t._v(" "+t._s(t._timestampToTime(i.createTs))+" ")]),e("li",{staticClass:"symbol"},[e("span",[t._v(t._s(t.pool.marketLists[0].price_type)+" Pool")]),e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),parseFloat(i.leverage)>0?e("LeverageBtn",{attrs:{leverage:i.leverage}}):t._e()],1),e("li",{staticClass:"type"},[t._v(t._s(t.orderTypeDictionary[i.orderType]))]),e("li",{staticClass:"amount"},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.formatNumberWithCommas(i.lpAmount,4)+" YLP",placement:"top"}},[e("b",{staticClass:"yellow underline"},[t._v(t._s(t.formatNumberWithCommas(t.lpShareBanlance(i.lpAmount),4))+" "+t._s(t.pool.baseToken.symbol))])])],1),e("li",{staticClass:"margin"},[t._v(" "+t._s(t.formatNumberWithCommas(i.margin,4))+" ")]),e("li",{staticClass:"taker-close"},[t.isCancel(i.createTs)?e("span",{on:{click:function(e){return t.cancelPoolOrder(i.orderId)}}},[e("Btn",{attrs:{info:t.$t("common.cancel")}})],1):e("span",[t._v("--")])])])])}))],2),e("div",{staticClass:"h5"},[0==t.orders.length?e("noRecord"):t._e(),t._l(t.orders,(function(i,a){return e("div",{key:a,staticClass:"position-item"},[e("ul",[e("li",[e("span",{staticStyle:{"margin-right":"3px"}},[t._v(" "+t._s(t.pool.marketLists[0].price_type)+" Pool ")]),e("div",[e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}}),parseFloat(i.leverage)>0?e("LeverageBtn",{attrs:{leverage:i.leverage}}):t._e()],1),e("span",{style:{color:i["orderType"]>1?"#F5455B":"#2EBB84",marginRight:"5px"}},[t._v(" "+t._s(t.orderTypeDictionary[i.orderType])+" ")])])]),e("ul",[e("li",[t._v(" "+t._s(t.$t("liquidity.liquidity"))+"("+t._s(t.pool.baseToken.symbol)+") ")]),e("li",[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.formatNumberWithCommas(i.lpAmount,4)+" YLP",placement:"top"}},[e("b",{staticClass:"yellow underline"},[t._v(t._s(t.formatNumberWithCommas(t.lpShareBanlance(i.lpAmount),4)))])])],1)]),e("ul",[e("li",[t._v(" "+t._s(t.$t("trade.margin"))+"("+t._s(t.pool.baseToken.symbol)+") ")]),e("li",[t._v(" "+t._s(t.formatNumberWithCommas(i.margin,4))+" ")])]),e("div",{staticClass:"time"},[t._v(t._s(t._timestampToTime(i.createTs)))]),t.isCancel(i.createTs)?e("el-button",{staticClass:"cancel",on:{click:function(e){return t.cancelPoolOrder(i.orderId)}}},[t._v(t._s(t.$t("common.cancel")))]):t._e()],1)}))],2)])},Ft=[],Bt={props:["orders"],components:{noRecord:pt,Btn:at,LeverageBtn:E["a"],SettlementBtn:x["a"]},data(){return{orderTypeDictionary:{0:"Add",1:"Remove"}}},computed:{...Object(o["c"])({pool:t=>t.pool,sharePrice:t=>t.sharePrice})},mounted(){},methods:{fromDecimal:v["l"],toPercent:v["z"],formatNumberWithCommas:v["i"],_timestampToTime:v["c"],lpShareBanlance(t){return I()(this.sharePrice).multipliedBy(t).toFixed()},isCancel(t){let{cancelElapseTime:e}=Object(h["a"])(),i=Date.parse(new Date)/1e3;return parseInt(i)>I()(t).plus(e).toFixed()},cancelPoolOrder(t){Object(b["b"])(t)}}},Nt=Bt,Dt=(i("4b0d"),Object(P["a"])(Nt,At,Ft,!1,null,"0c53925a",null)),St=Dt.exports,qt=i("56d7"),jt={components:{CurrentPosition:Pt,HistoryPosition:$t,PositionTrade:B,Orders:St,SettlementBtn:x["a"]},data(){return{hideOthers:!1,positionType:"currentPosition",showTradeProp:!1,direction:1,timer:null,orders:[],chainId:null}},computed:{...Object(o["c"])({currentChainId:t=>t.currentChainId,accounts:t=>t.accounts,lpPosition:t=>t.lpPosition,pool:t=>t.pool}),filteredOrders(){return this.orders.filter(t=>0==parseInt(t.status))}},watch:{"pool.id"(){this.getOrders()}},destroyed(){},created(){this.accounts&&(this.$store.dispatch("asyncUpdateLpPosition"),this.getOrders()),this.timer=setInterval(()=>{this.accounts&&(this.$store.dispatch("asyncUpdateLpPosition"),this.getOrders())},5e3)},beforeDestroy(){clearInterval(this.timer),this.timer=null},mounted(){this.chainId=Object(h["a"])().rpcId,this.UPDATA_LPLOADING(!1)},methods:{modalOpen(){qt["modal"].open()},showTrade(t){this.direction=t,this.showTradeProp=!0},closeProp(){this.showTradeProp=!1},async getOrders(){const t=`{liquidityOrders(\n        first: 100\n        where: {maker: "${this.accounts}", pool: "${this.pool.id}"}\n        orderBy: createTs\n        orderDirection: desc\n      ) {\n        cancelTs\n        cancelTxId\n        createTs\n        createTxId\n        executeFee\n        executedTs\n        executedTxId\n        fee\n        id\n        isETH\n        isLiquidate\n        isStakeLp\n        isTPSL\n        isUnStakeLp\n        leverage\n        liquidity\n        lpAmount\n        maker\n        margin\n        orderType\n        pnl\n        orderId\n        sharePriceToExecute\n        status\n        toMaker\n        pool {\n          id\n        }\n      }}`;let e=await Object(p["p"])(t);this.orders=e.data.liquidityOrders},...Object(o["b"])(["CONNECT_PROP","UPDATA_LPLOADING"])}},Et=jt,Rt=(i("d2b9"),Object(P["a"])(Et,Y,H,!1,null,"3d9b0d87",null)),Wt=Rt.exports,Ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info"},[e("div",{staticClass:"left"},[e("h1",[e("span",[t._v(" "+t._s(t.pool.marketLists[0].price_type)+" Pool ")]),e("SettlementBtn",{attrs:{settlement:t.pool.baseToken.symbol}})],1),e("div",[e("span",[t._v(t._s(t.$t("liquidity.ylpPrice")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.sharePrice,6)))])]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.market")))]),e("ul",{staticClass:"pool-markets"},t._l(t.pool.marketLists,(function(i,a){return e("li",{key:a,on:{click:function(e){return t.goTrade(i.price_type,t.pool.baseToken.symbol)}}},[t._v(" "+t._s(i.price_type)+" ")])})),0)]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.liquidity")))]),e("span",[(t.pool.marketLists[0].marketType,e("p",[t._v(t._s(t.formatNumberWithCommas(t.poolInfo.leveragedLiquidity,2))+" "+t._s(t.pool.baseToken.symbol))]))])]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.totalYLP")))]),e("span",[t._v(" "+t._s(t.formatNumberWithCommas(t.poolInfo.ylpAmount,2))+" ")])]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.totalLPMargin")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.poolInfo.aum,2))+" "+t._s(t.pool.baseToken.symbol))])]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.averageLeverage")))]),e("span",[t._v(t._s((t.poolInfo.leveragedLiquidity/t.poolInfo.aum).toFixed(2))+"x")])]),e("div",[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticClass:"tooltip-inner",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("liquidity.availableLiquidityTip"))+" ")]),e("span",{staticClass:"underline"},[t._v(t._s(t.$t("liquidity.availableLiquidity")))])]),e("span",[t._v(" "+t._s(t.formatNumberWithCommas(t.poolInfo.availableLiquidity,2))+" "+t._s(t.pool.baseToken.symbol)+" ")])],1),e("div",[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticClass:"tooltip-inner",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("liquidity.bankruptcyYLPPriceTip"))+" ")]),e("span",{staticClass:"underline"},[t._v(t._s(t.$t("liquidity.bankruptcyYLPPric")))])]),e("span",[t._v(" "+t._s(t.formatNumberWithCommas(t.clearPrice,6))+" ")])],1),e("div",[e("el-tooltip",{attrs:{placement:"top"}},[e("div",{staticClass:"tooltip-inner",attrs:{slot:"content"},slot:"content"},[t._v(" "+t._s(t.$t("liquidity.bankruptcyIndexPriceTip"))+" ")]),e("span",{staticClass:"underline"},[t._v(" "+t._s(t.$t("liquidity.bankruptcyIndexPrice"))+" ")])]),e("span",[t._v(" "+t._s(t.formatNumberWithCommas(t.clearIndexPrice,4))+" ")])],1)]),e("div",{staticClass:"right"},[e("div",[e("h1",[t._v(t._s(t.$t("liquidity.poolPNL")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.netPerformance,4))+" "+t._s(t.pool.baseToken.symbol))])]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.unrealizedPNL")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.poolInfo.totalUnrealizedPNL,4))+" "+t._s(t.pool.baseToken.symbol))])]),e("div",[e("span",[t._v(t._s(t.$t("liquidity.realizedPNL")))]),e("span",[t._v(t._s(t.formatNumberWithCommas(t.poolInfo.rlzPNL,4))+" "+t._s(t.pool.baseToken.symbol))])]),e("h1",{staticClass:"h5-cur"},[t._v("Positions")]),t.marketLists[0]&&!t.marketLists[0].hasOwnProperty("longAmount")?e("div",{staticClass:"loading"},[e("TradeLoading",{attrs:{w:30,h:30}})],1):t._l(t.marketLists,(function(i,a){return e("span",{key:a},[e("h2",[t._v(t._s(i.price_type))]),e("div",{staticStyle:{margin:"12px 0"}},[e("span",[t._v("Long: "+t._s(i.longAmount||"--")+" "+t._s(1==parseInt(i.marketType)?"USD":i.amountSymbol||"--"))]),e("span",{staticStyle:{color:"#71757A"}},[t._v("Short: "+t._s(i.shortAmount||"--")+" "+t._s(1==parseInt(i.marketType)?"USD":i.amountSymbol||"--"))])]),e("ProgressBar",{attrs:{outsideBg:"#F5455B",leftBg:"#2EBB84",leftAmount:i.longAmount,rightAmount:i.shortAmount}})],1)}))],2)])},Vt=[],Mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"outside",style:{backgroundColor:t.outsideBg}},[e("div",{staticClass:"left",style:{backgroundColor:t.leftBg,width:t.leftRate+"%"}},[t._v(t._s(isNaN(t.leftRate)?"--":t.leftRate)+"%")]),e("div",{style:{width:t.rightRate+"%"}},[t._v(" "+t._s(isNaN(t.rightRate)?"--":t.rightRate)+"% ")])])},zt=[],Xt={props:{outsideBg:{type:String,default:"#FFFFFF"},leftBg:{type:String,default:"red"},leftAmount:{default:""},rightAmount:{type:String,default:""}},computed:{leftRate(){const{leftAmount:t,rightAmount:e}=this,i=I()(t).plus(e);return I()(t).div(i).multipliedBy(100).toFixed(2,I.a.ROUND_DOWN)},rightRate(){const{leftAmount:t,rightAmount:e}=this,i=I()(t).plus(e);return I()(e).div(i).multipliedBy(100).toFixed(2,I.a.ROUND_DOWN)}}},Gt=Xt,Yt=(i("4fc0"),Object(P["a"])(Gt,Mt,zt,!1,null,"2eaf9e0c",null)),Ht=Yt.exports,Kt=i("b9d2"),Jt={data(){return{marketLists:[],positionLoading:!0,clearPrice:null,clearIndexPrice:null}},components:{ProgressBar:Ht,TradeLoading:st["a"],SettlementBtn:x["a"]},computed:{...Object(o["c"])({pool:t=>t.pool,poolInfo:t=>t.poolInfo,sharePrice:t=>t.sharePrice}),netPerformance(){const{totalUnrealizedPNL:t,rlzPNL:e}=this.poolInfo;return I()(t).plus(e).toFixed()}},watch:{"pool.id"(){this.getMarketLists()}},mounted(){this.getMarketLists()},methods:{...Object(o["b"])(["UPDATE_SMARKET","UPDATE_LPOSITION","UPDATE_SPOSITION","UPDATE_INFOLOADING"]),formatNumberWithCommas:v["i"],interceptObject:v["s"],getMarketLists(){let t=this.pool.marketLists;t.forEach(t=>{Object(Kt["b"])(t.id,this.pool.id).then(e=>{t.longAmount=Object(v["l"])(e[7],20,2),t.shortAmount=Object(v["l"])(e[9],20,2)}),t.amountSymbol=t.price_type.split("_")[0]}),this.marketLists=t,Object(j["g"])(this.pool.id,t[0].id).then(t=>{const{indexPrice:e,sharePrice:i}=t;this.clearPrice=Object(v["l"])(i,10),this.clearIndexPrice=Object(v["l"])(e,10)})},shouldRenderComma(t){return t<this.pool.marketLists.length-1},goTrade(t,e){this.UPDATE_LPOSITION([]),this.UPDATE_SPOSITION([]),this.UPDATE_SMARKET({});let i=localStorage.locale||"en";this.$router.push(`/${i}/trade/${t}/${e}`)},getPoolClearAllPrice(){}}},Qt=Jt,Zt=(i("f2d7"),Object(P["a"])(Qt,Ut,Vt,!1,null,"41a1b2a9",null)),te=Zt.exports,ee=i("0a6f"),ie=i("04bf"),ae=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("div",{staticClass:"loading"},[e("TradeLoading",{attrs:{w:30,h:30}})],1):t._e(),e("div",{staticClass:"title-type"},[e("ul",t._l(t.typeList,(function(i,a){return e("li",{key:a,class:{cur:i==t.typeValue},on:{click:function(e){return t.changeTypeValue(i)}}},[t._v("1"+t._s(t.typeValueDictionary[i]))])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],ref:"chart",staticClass:"funding-chart"})])},se=[],oe=i("ea7f"),le=i.n(oe),ne=i("33c6"),re=i.n(ne),ce=i("d817"),de=i.n(ce),pe=i("0319"),me=i.n(pe);re()(le.a),de()(le.a),me()(le.a);var ue={components:{TradeLoading:st["a"]},data(){return{chartOptions:{},typeList:["m","h","d"],typeValue:"d",aumData:[],liquidityData:[],typeValueDictionary:{m:"m",h:"H",d:"D"},minY:null,tickInterval:null,isLoading:!0}},computed:{...Object(o["c"])({pool:t=>t.pool})},watch:{"pool.id"(){this.getFundingRate()}},mounted(){this.getFundingRate()},methods:{toPercent:v["z"],changeTypeValue(t){this.isLoading=!0,this.typeValue=t,this.getFundingRate()},drawChart(){let t=this;this.chartOptions={chart:{type:"line",backgroundColor:"#101014"},title:{text:""},tooltip:{crosshairs:{color:"#3C3F46",dashStyle:"solid"},shared:!0,formatter:function(){let t=`\n                    <div style="display: flex; justify-content: space-between; width: 200px; margin-bottom: 8px"><span>${Object(v["d"])(this.x,!1)}</span></div>\n                `;return this.points.forEach(e=>{const i=e.series.name,a=e.y.toFixed(6);t+=`\n                    <div style="color: #FFFFFF; display: flex; justify-content: space-between; width: 200px"><span>${i}:</span> <span>${parseFloat(a).toFixed(2)}</span></div>\n                `}),t},valueDecimals:2,backgroundColor:"#404347",borderColor:"black",borderRadius:10,borderWidth:0,animation:!0,useHTML:!0,style:{color:"#ADB1B8",fontSize:"14px"}},exporting:{enabled:!1},xAxis:{type:"datetime",title:{text:""},lineColor:"#2C2F36",tickColor:"#2C2F36",tickInterval:"auto",labels:{formatter:function(){return"d"==t.typeValue||"h"==t.typeValue?Object(v["d"])(this.value,!1):"m"==t.typeValue?Object(v["d"])(this.value,!1,!1,!1):void 0}}},yAxis:{title:{text:""},gridLineWidth:0,labels:{formatter:function(){return this.value}},min:this.minY},navigator:{enabled:!0},scrollbar:{enabled:!0},series:[{name:""+this.$t("liquidity.liquidity"),data:this.liquidityData,marker:{enabled:!1},lineWidth:3,lineColor:"#8E4EFE"},{name:""+this.$t("liquidity.totalLPMargin"),data:this.aumData,marker:{enabled:!1},lineWidth:3,lineColor:"#33F7FF"}]},le.a.chart(this.$refs.chart,this.chartOptions)},async getFundingRate(){const t=Math.floor((new Date).getTime()/1e3),e=Math.floor(((new Date).getTime()-2592e6)/1e3);"d"==this.typeValue||"h"==this.typeValue?this.tickInterval=6e4:"m"==this.typeValue&&(this.tickInterval=600);const i={pool:this.pool.id,type:this.typeValue,from:e,to:t};let a=await Object(p["a"])(i);const{time:s,aum:o,liquidity:l}=a,n=s?s.map((t,e)=>[t,parseFloat(o[e])]):[],r=s?s.map((t,e)=>[t,parseFloat(l[e])]):[];this.aumData=n,this.liquidityData=r,this.isLoading=!1,this.drawChart()}}},he=ue,ve=(i("6b2b"),Object(P["a"])(he,ae,se,!1,null,"19b4ab15",null)),_e=ve.exports;const be=n.a.GridLayout,ye=n.a.GridItem,fe=[{x:0,y:0,w:0,h:16,i:"-1",resizable:!0,draggable:!0,static:!1,minY:0,maxY:2},{x:0,y:0,w:12,h:13,i:"0",resizable:!0,draggable:!0,static:!1,minY:0,maxY:2},{x:0,y:0,w:12,h:9,i:"2",resizable:!0,draggable:!0,static:!1,minY:0,maxY:2}];var ge={components:{GridLayout:be,GridItem:ye,Header:r["a"],PositionTrade:B,Ticker:G,Positions:Wt,TabSwitch:ee["a"],Info:te,TradeLoading:st["a"],NetValueChart:ie["a"],AumLiquidity:_e},data(){return{layout:JSON.parse(JSON.stringify(fe)),draggable:!1,resizable:!1,mirrored:!1,responsive:!1,preventCollision:!1,rowHeight:30,colNum:12,marginX:0,marginY:0,is_big:!1,tabActive:1,tabList:[{id:1,name:""+this.$t("liquidity.ylpPrice")},{id:2,name:""+this.$t("common.info")},{id:3,name:""+this.$t("common.liquidityChart")}],netValueChange:null}},metaInfo(){return{title:`${this.sharePrice&&window.screen.width>1e3?this.sharePrice+" |":""} ${this.pool&&window.screen.width>1e3?`${this.pool.marketLists[0].price_type}[${this.pool.baseToken.symbol}] Pool |`:""} ${this.$t("trade.perpetual")} | yfx.com`}},beforeDestroy(){clearInterval(this.timer),this.timer=null},created(){this.UPDATE_POOLLOADING(!0),this.getUrlPath(),this.timer=setInterval(()=>{this.$store.dispatch("updatePoolInfo")},8e3)},mounted(){},computed:{...Object(o["c"])({poolLoading:t=>t.poolLoading,pool:t=>t.pool,sharePrice:t=>t.sharePrice})},watch:{"pool.id"(){this.UPDATE_POOLINFO({}),this.UPDATE_LPPOSITION({}),this.$store.dispatch("updatePoolInfo"),this.$store.dispatch("asyncUpdateLpPosition")}},methods:{...Object(o["b"])(["UPDATE_POOL","UPDATE_TICK","UPDATA_PLOADING","UPDATA_OLOADING","UPDATE_POOLLOADING","UPDATE_POOLINFO","UPDATE_LPPOSITION","UPDATE_POOLS"]),async getUrlPath(){const t="{\n        pools(first: 20) {\n          id\n          lpPrice\n          totalAddAmount\n          totalAddVol\n          totalLiquidity\n          totalRemoveAmount\n          totalRiskFunding\n          totalRmFee\n          totalRmVol\n          baseToken {\n            decimal\n            id\n            symbol\n          }\n          marketLists(first: 10) {\n            id\n            makerFeeRate\n            marketType\n            price_type\n            mm\n          }\n        }\n      }";let e=await Object(p["p"])(t),i=e.data.pools;try{let t=await Object(p["e"])(),e=await Object(p["m"])();t=t.data.markets,e=e.data.pools,i=i.map(i=>{"WETH"==i.baseToken.symbol&&(i.baseToken.symbol="ETH");const a=t.find(t=>t.address.toLowerCase()===i.marketLists[0].id.toLowerCase()),s=e.find(t=>t.address.toLowerCase()===i.id.toLowerCase());if(a){let t={quanto_multiplier:a.quanto_multiplier,amount_decimals:parseFloat(a.amount_decimals),price_decimals:parseFloat(a.price_decimals),fee_rate:a.fee_rate,taker_leverage_max:parseFloat(s.maker_leverage_max),price_show_decimals:parseFloat(a.price_show_decimals),amount_show_decimals:parseFloat(a.amount_show_decimals),taker_margin_min:parseFloat(a.taker_margin_min),taker_margin_max:parseFloat(a.taker_margin_max),taker_value_min:parseFloat(a.taker_value_min),taker_value_max:parseFloat(a.taker_value_max),apr:s.apr,mining_apr:s.mining_apr,change:s.change};return{...i,...t}}})}catch(n){}this.UPDATE_POOLS(i);let a=localStorage.locale||"en",s=i.find(t=>t.marketLists[0].price_type.includes("BTC"))||i[0],o=this.$route;const{name:l}=o;if("pool"!=l&&"poolWithId"!=l)return!1;if(o.params.id){const t=i.filter(t=>t.id.toLowerCase()===o.params.id.toLowerCase());t.length>0?(this.$router.push(`/${a}/pool/${t[0].id}`),this.$store.dispatch("updatePoolInfo",t[0]),this.UPDATE_POOL(t[0])):(this.$router.push(`/${a}/pool/${s.id}`),this.$store.dispatch("updatePoolInfo",s),this.UPDATE_POOL(s))}else{if(this.pool.id)return this.$router.push(`/${a}/pool/${this.pool.id}`),void this.$store.dispatch("updatePoolInfo",this.pool);this.$router.push(`/${a}/pool/${s.id}`),this.$store.dispatch("updatePoolInfo",s),this.UPDATE_POOL(s)}},getNetValueChange(t){this.netValueChange=t},tabChange(t){this.tabActive=t.id}}},Ce=ge,Te=(i("d187"),Object(P["a"])(Ce,a,s,!1,null,"3adb4138",null));e["default"]=Te.exports},b563:function(t,e,i){},ca0b:function(t,e,i){},d025:function(t,e,i){},d187:function(t,e,i){"use strict";i("44a2")},d2b9:function(t,e,i){"use strict";i("16e5")},dd5d:function(t,e,i){"use strict";i("b563")},dfd6:function(t,e,i){"use strict";i("8b53")},e0e2:function(t,e,i){},e3a0:function(t,e,i){},eaa7:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",[t.userAddress?parseFloat(t.chainId)!==parseFloat(t.currentChainId)?e("van-button",{staticClass:"btn",on:{click:t.modalOpen}},[t._v("Switch Network")]):t._e():e("van-button",{staticClass:"btn",on:{click:t.modalOpen}},[t._v(t._s(t.$t("common.connectWallet")))])],1)},s=[],o=i("2f62"),l=i("c7e9"),n=i("56d7"),r={data(){return{chainId:null}},computed:{...Object(o["c"])({userAddress:t=>t.accounts,currentChainId:t=>t.currentChainId})},mounted(){this.chainId=Object(l["a"])().rpcId},methods:{modalOpen(){n["modal"].open()}}},c=r,d=(i("44e0"),i("2877")),p=Object(d["a"])(c,a,s,!1,null,"5ed963fc",null);e["a"]=p.exports},f2d7:function(t,e,i){"use strict";i("29e7")},fd24:function(t,e,i){}}]);